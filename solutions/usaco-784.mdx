---
id: usaco-784
source: USACO Bronze 2018 January
title: Lifeguards
author: Danh Ta Chi Thanh, Brad Ma
---

[Official Analysis (Java)](http://www.usaco.org/current/data/sol_lifeguards_bronze_jan18.html)

<LanguageSection>
<CPPSection>

## C++ Implementation

```cpp
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <vector>
#include <utility>

using namespace std;

#define start first
#define end second

int n,a,b,maxCover,covered;
vector<pair<int,int>> shift;
int numCover[1000];

int main(){
	ios_base::sync_with_stdio(0); cin.tie(0);
	freopen("lifeguards.in","r",stdin);
	freopen("lifeguards.out","w",stdout);
	cin >> n; shift.resize(n);
	for (int i=0;i<n;++i) {
		cin >> a >> b;
		shift[i]=make_pair(a,b);
		for (int j=a;j<b;++j) {
			++numCover[j];
		}
	}
	for (pair<int,int> lifeguard : shift) {
		for (int t=lifeguard.start;t<lifeguard.end;++t) {
			--numCover[t];
		}
		covered=0;
		for (int t=0;t<1000;++t) {
			if (numCover[t]>0) {
				covered++;
			}
		}
		for (int t=lifeguard.start;t<lifeguard.end;++t) {
			++numCover[t];
		}
		maxCover=max(covered,maxCover);
	}
	cout << maxCover;
	return 0;
}

```

</CPPSection>
	
<JavaSection>	

## Java Implementation

```java
import java.util.*;
import java.io.*;
public class lifeguards {
		public static void main (String[] args) throws IOException {
		Kattio io = new Kattio("lifeguards");

		int numGuards = io.nextInt();
		int largest = 0;
		int[][] guardTimes = new int[numGuards][2];

		for (int x = 0; x < numGuards; x++) { // store the times
			guardTimes[x][0] = io.nextInt();
			guardTimes[x][1] = io.nextInt();
		}

		for (int x = 0; x < numGuards; x++) {    // try firing each cow
			int[] coveredTimes = new int[1001]; // times covered if this cow is fired
			for (int i = 0; i < numGuards; i++) { // loop through the other cows
				if (i != x) { // make sure that it isn't the fired cow
					int start = guardTimes[i][0];
					int end = guardTimes[i][1];

					for (int y = start; y < end; y++) { // 1's to mark a covered time
						coveredTimes[y] = 1;
					}
				}
			}

			int count = 0;

			for (int coveredTime : coveredTimes) { // count the time covered
				if (coveredTime == 1) {
				count++;
				}
			}

			largest = Integer.max(largest, count); // keep track of the largest
		}

		io.println(largest);
		io.close();
	}

	//CodeSnip{Kattio}
}					  
```
</JavaSection>

</LanguageSection>
