---
id: ceoi-10-AHugeTower
source: CEOI 2010
title: A Huge Tower
author: Ã“scar Garries
---

[Official Analysis](http://ceoi2010.ics.upjs.sk/pub/documents/ceoi_summary.pdf#page=14)

<LanguageSection>
<CPPSection>

## Implementation

```cpp
#include <bits/stdc++.h>

using namespace std;

const int MOD = 1e9 + 9;

int main () {
	int n, d;
	cin >> n >> d;
	vector<int> ar(n);
	for (int i = 0; i < n; i++) {
		cin >> ar[i];
	}
	sort(ar.begin(), ar.end()); //sort the blocks
	int r = 0, sol = 1;
	for (int l = 0; l < n; l++) {
		while (r < n - 1 && ar[r + 1] - ar[l] <= d) r++;
		int dist = r - l + 1; //largest tower we can built when ar[l] block is the base
		sol = (sol * 1LL * dist) % MOD;
	}
	cout << sol << '\n';
}

```

</CPPSection>
</LanguageSection>
