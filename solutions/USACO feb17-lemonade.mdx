---
id: usaco-835
source: USACO Silver 2018 Open
title: Lemonade Line
author: Mrinall Umasudhan
---

[Official Analysis](http://www.usaco.org/current/data/sol_lemonade_silver_open18.html)

Editorial: In this problem, we simply have to create a greedy algorithm to make the cows line up in decreasing order. By doing this we get to have the cows with the smaller line tolerance go later which in turn causes less cows to join the line which gives us the most optimal answer. Now after sorting the cow list then iterate over the new list and then proceed to check if the cow is able to tolerate the line length, if it is then we add the cow to the line by incrementing the line variable and then proceed to process the next cow. If the cow is not able to tolerate the line length then we stop sorting our cows and output our answer because we know that no other cows further down the list can tolerate the line because the rest of the cows' line tolerance will be less than or equal to the tolerance of our current cow so if we did process them the line would not increase anymore, again showing the advantage of sorting the list.

### Implementation

<LanguageSection>
<CPPSection>

See official editorial: http://www.usaco.org/current/data/sol_lemonade_silver_open18.html

</CPPSection>
<JavaSection>

```java
import java.io.*;
import java.util.*;
class cows {
    int vals;
    public cows(int vals)
    {
        this.vals = vals;
    }
    public int getVals(){
        return this.vals;
    }
}
class Sort implements Comparator<cows> {            // Comparator for a specialized in O(log N) for simple time limits.
    public int compare(cows a, cows b) {
        return Integer.compare(b.vals, a.vals);
    }
}
public class lemonade{
    public static void main(String[] args) throws IOException {
        Scanner sc = new Scanner(new File("lemonade.in"));
        PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter("lemonade.out")));
        int N = sc.nextInt();  ArrayList<cows> arr = new ArrayList<>(); int ans = 0;
        for(int i = 0 ; i < N; i++){
            arr.add(new cows(sc.nextInt()));
        }

        while (true){
            arr.sort(new Sort());
            int toRemove = arr.get(0).getVals();
            if(toRemove >= ans){
                arr.remove(0);
                ans++;
            }else{
                break;
            }
        }
        out.println(ans);
        out.close();
    }
}
```

</JavaSection>
</LanguageSection>
