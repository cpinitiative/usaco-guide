---
id: usaco-567
source: USACO Bronze 2015 December
title: Fence Painting
author: Benjamin Qi
---

[Official Analysis](https://usaco.org/current/data/sol_paint_bronze_dec15.html)

## Solution 1 (Casework)

<Spoiler title="Solution">

**Time Complexity:** $\mathcal O(1)$

We can split into cases depending on all six possible orderings of $a,b,c,d$.
The cases are:

- $a\le c$
  - $b<c$
  - $c\le b<d$
  - $d\le b$
- $a>c$
  - $d<a$
  - $a\le d < b$
  - $b\le d$

For each case, the answer is a different linear combination of $a,b,c,d$.

### Implementation

<LanguageSection>

<PySection>

```py
import sys

sys.stdin = open("paint.in", "r")
sys.stdout = open("paint.out", "w")


def solve(a, b, c, d):
	if a <= c:
		if b < c:
			return b - a + d - c
		elif b < d:
			return d - a
		else:
			return b - a
	else:
		if d < a:
			return b - a + d - c
		elif d < b:
			return b - c
		else:
			return d - c


a, b = map(int, input().split())
c, d = map(int, input().split())

print(solve(a, b, c, d))
```

</PySection>

</LanguageSection>

### Condensed Implementation

We can simplify the implementation from above by reusing logic across cases.
For example,

1. We do not need to have separate chains of if statements for the cases  $a\ge c$ and $a<c$. If we are in the second case, we can swap the two intervals to transform it into the first case, without changing the answer.

2. We can replace the if statement comparing $b$ and $d$ with $\max(b,d)$.

<LanguageSection>

<PySection>

```py
import sys

sys.stdin = open("paint.in", "r")
sys.stdout = open("paint.out", "w")


def solve(a, b, c, d):
	if a > c:
		a, b, c, d = c, d, a, b
	if b < c:
		return b - a + d - c
	return max(b, d) - a


a, b = map(int, input().split())
c, d = map(int, input().split())

print(solve(a, b, c, d))
```

</PySection>

</LanguageSection>

</Spoiler>

## Other Solutions

See the [Rectangle Geometry](/bronze/rect-geo#example---fence-painting) module.
