---
id: usaco-963
source: USACO Bronze 2019 December
title: Cow Gymnastics
author: Krish Thawani
---

[Official Analysis](http://www.usaco.org/current/data/sol_gymnastics_bronze_dec19.html)

<LanguageSection>
<JavaSection>

```java
// Created by Krish Thawani

import java.io.*;
import java.util.*;

public class gymnastics {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new FileReader("gymnastics.in"));
        PrintWriter pw = new PrintWriter(new FileWriter("gymnastics.out"));

        StringTokenizer st = new StringTokenizer(br.readLine());
        int k = Integer.parseInt(st.nextToken());
        int n = Integer.parseInt(st.nextToken());
        
        ArrayList<Integer>[] ratings = new ArrayList[k];
        
        // Read inputs into a 2D array (well, actually an array of ArrayLists)
        for (int i = 0; i < k; i++) {
            st = new StringTokenizer(br.readLine());
            ratings[i] = new ArrayList<Integer>();
            for (int j = 0; j < n; j++) {
                ratings[i].add(Integer.parseInt(st.nextToken()));
            }
        }
        int pairs = 0;
        
        // Iterate over every ranking in the first sequence
        for (int i = 0; i < n; i++) {
            int base = ratings[0].get(i);
            // Iterate over every other ranking in the first sequence, 
            // to be compared with the base ranking
            outer:
            for (int j = i+1; j < n; j++) {
                int comp = ratings[0].get(j);
                // Iterate over every line to make sure that the two numbers we are comparing
                // stay in the same relative position to each other (one is always greater than the other)
                for (int l = 1; l < k; l++) {
                    // If the relative positions of the two rankings being compared change, 
                    // then it is not a pair and continue to the iteration/comparison
                    if ((ratings[0].indexOf(base) - ratings[0].indexOf(comp)) * (ratings[l].indexOf(base) - ratings[l].indexOf(comp)) < 0) {
                        continue outer;
                    }
                }
                pairs++;
            }
        }
        pw.println(pairs);
        
        
        
        br.close();
        pw.close();
    }
}
```
</JavaSection>

</LanguageSection>

<LanguageSection>

<CPPSection>

```cpp

//Solution by Luka Mitrovic
#include <bits/stdc++.h>

using namespace std;

int k,n;
int cows[11][21]; // Cows matrix (It's 11 and 21 because of 1-indexing)

bool checkPair(int first, int second) {

	bool firstBetter = true; 
	bool secondBetter = true;

	//Iterate over all practice sessions
	for (int i = 1; i <= k; i++) {
		for (int j = 1; j <= n; j++) {
			// Check if the first cow is better than the second cow (and the opposite)
			if (cows[i][first] > cows[i][second]) {
				// If the first cow did better at least once, then the 2nd one is not consistently better
				secondBetter = false;
			} else {
				// If the 2nd cow did better at least once, the the first one is not consistently better
				firstBetter = false;
			}
		}
	}

	// If there is at least one consistently better cow, return 1, else return 0
	return (firstBetter or secondBetter);

}

int main() {

	#ifndef ONLINE_JUDGE
		freopen("gymnastics.in", "r", stdin);
		freopen("gymnastics.out", "w", stdout);
	#endif

	cin >> k >> n;

	int ans = 0;

	// Input
	for (int i = 1; i <= k; i++) {
		for (int j = 1; j <= n; j++) {
			int num;
			cin >> num;
			// Input j-th cow, and assing it a rank
			// For example, if j == 1, and num == 3, then the cow number 3 is rank 1
			cows[i][num] = j;
		}
	}

 	// Iterate over all pairs
	for (int i = 1; i <= n; i++) {
		for (int j = i+1; j <= n; j++) {
			// If the pair is consistent, increase answer by 1, else increase it by 0
			ans += checkPair(i, j);
		}
	}

	// Print the answer
	cout << ans << endl;

	return 0;

}


```


</CPPSection>

</LanguageSection>







